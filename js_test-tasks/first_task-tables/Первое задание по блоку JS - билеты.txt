Ссылка на гуглодок
https://docs.google.com/document/d/1PCe98aCGv1GJGZ8zlhfmvwprqUgW-gjF8T08njnH8VI/edit?usp=sharing


---------------------------------------------------------------------------------
1. Вид таблицы после добавления дополнительных столбцов под N новых типов билетов
---------------------------------------------------------------------------------


id
event_id
event_date
ticket_adult_price
ticket_adult_quantity
ticket_kid_price
ticket_kid_quantity
--- new columns
   ticket_preferential_price
   ticket_preferential_quantity
   ticket_group_price
   ticket_group_quantity
--- new columns - end
barcode
equal_price
created


С учётом того, что все данные заказа добавляются в одну таблицу, как я понял из тз задания, то при добавлении каждого нового типа билета расширяем данную таблицу на 2 столбца:
- цена нового типа билета,
- количество проданных билетов данного типа.

В расчёт берётся то, что под "названием" типа билета имеется в виду именование колонок для соответствующих данных нового типа билетов.

Так как таблица общая для всех заказов, то данные в данных столбцах будут пустые для тех эвентов, которые не предполагают продажу таких типов билетов.

-----------------------------------------------------------------------------
2. Вид таблицы после добавления информации о баркодах для каждого типа билета
-----------------------------------------------------------------------------


order_id
barcode


Для решения второй задачи предлагаю создать новую таблицу "tickets_barcodes" со связью многие-к-одному к таблице заказов. В ней для каждого заказа будет несколько записей - по одной для каждого билета из заказа. Первичный ключ будет состоять из столбцов "order_id" и "barcode", так как такая связка полей всегда будет уникальной.

В таблицу также можно добавить дополнительное поле "status", чтобы была возможность чекинить билеты через устройства с доступом к системе с сохранением статуса в БД.

Также можно добавить поле "type" для учёта типа билета при чеке.


PS
Если в задании предполагались модификации только таблицы заказов без добавления новых таблиц, то тогда задачу можно решить добавлением нового столбца "barcodes", где через запятую будут перечислены все баркоды проданных билетов. Если будет необходимо как-то помечать статус чека билета, то можно помечать это каким-нибудь символом рядом с соответствующим баркодом.


-------------------------------------------------------
Мои предложения, как можно было сделать два этих задания
-------------------------------------------------------

Чтобы не приходилось менять структуру таблицы заказов каждый раз при добавлении нового типа билета, предлагаю вынести данные о цене и кол-ве купленных билетов из таблицы заказов в новую таблицу "sold_tickets" со столбцами "id", "order_id" (FK из таблицы заказов), "type", "price", "quantity".
Тогда старый вид таблицы заказов будет оформлен в виде представления.

Также, чтобы уйти от дублирования типов, предлагаю добавить новую таблицу "ticket_types" со столбцами "id" и "type_name" (со значениями "adult", "kid", "prefential", "group"), и использовать её в таблицах, где указан тип билета (тогда поле "type" заменится на "type_id").
